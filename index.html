<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Henriix Education Portal</title>
<link rel="stylesheet" href="style.css">
</head>
<body class="light">

<button class="theme-toggle" onclick="toggleTheme()">Toggle Theme</button>

<header>
  <h1>Henriix Education Portal</h1>
</header>

<div class="container">

<div id="loginBox">
  <h2>Login</h2>
  <input type="text" id="username" placeholder="Username"><br>
  <input type="password" id="password" placeholder="Password"><br>
  <button onclick="login()">Login</button>
</div>

<div id="dashboard" class="hidden">
  <h2>Subjects</h2>
  <div class="subjects" id="subjectCards"></div>
  <div class="pdf-list hidden" id="pdfList"></div>
  <button onclick="logout()">Logout</button>
</div>

</div>

<script>
const validUsers = [
  {username:"student1", password:"1234"},
  {username:"student2", password:"abcd"}
];

const subjects = [
  "Industrial-Management",
  "Applied-Mechanics",
  "Technical-Drawing",
  "Electric-Electronics",
  "Information-Communication",
  "Pakistan-Studies",
  "Chinese-TANG"
];

function toggleTheme(){
  document.body.classList.toggle("dark");
  document.body.classList.toggle("light");
}

function login(){
  const u = document.getElementById("username").value;
  const p = document.getElementById("password").value;
  const valid = validUsers.some(user=>user.username===u && user.password===p);
  if(valid){
    document.getElementById("loginBox").classList.add("hidden");
    document.getElementById("dashboard").classList.remove("hidden");
    showSubjects();
  } else {
    alert("Invalid username or password!");
  }
}

function logout(){ location.reload(); }

function showSubjects(){
  const container = document.getElementById("subjectCards");
  container.innerHTML="";
  subjects.forEach(subj=>{
    const div = document.createElement("div");
    div.className="card";
    div.textContent = subj.replace(/-/g,' ');
    div.onclick = ()=> showPDFs(subj);
    container.appendChild(div);
  });
}

async function showPDFs(subj){
  const pdfList = document.getElementById("pdfList");
  pdfList.classList.remove("hidden");
  pdfList.innerHTML=`<h3>${subj.replace(/-/g,' ')} PDFs</h3>`;
  try {
    const res = await fetch(`subjects/${subj}.json`);
    const data = await res.json();
    if(data.length===0){ pdfList.innerHTML+="<p>No PDFs available.</p>"; return; }
    data.forEach(pdf=>{
      const div = document.createElement("div");
      div.className="pdf-item";
      div.innerHTML=`<a href="${pdf.url}" target="_blank">${pdf.title}</a>`;
      pdfList.appendChild(div);
    });
  } catch(e){
    pdfList.innerHTML+="<p>Error loading PDFs.</p>";
  }
}
</script>

</body>
</html>
